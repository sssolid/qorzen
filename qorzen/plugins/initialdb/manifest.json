{
  "name": "initialdb",
  "display_name": "Vehicle Component Database",
  "version": "0.2.0",
  "description": "Access and query vehicle component database information",
  "author": {
    "name": "Ryan Serra",
    "email": "ryan.serra@example.com"
  },
  "license": "MIT",
  "capabilities": [
    "ui.extend",
    "event.subscribe",
    "event.publish",
    "config.read",
    "database.read",
    "database.write",
    "file.read",
    "file.write"
  ],
  "dependencies": [
    {
      "name": "core",
      "version": ">=0.1.0"
    }
  ],
  "entry_point": "plugin.py",
  "min_core_version": "0.1.0",
  "tags": ["database", "vehicle", "components"],
  "lifecycle_hooks": {
    "pre_install": "initialdb.code.hooks.pre_install",
    "post_install": "initialdb.code.hooks.post_install",
    "pre_uninstall": "initialdb.code.hooks.pre_uninstall",
    "post_uninstall": "initialdb.code.hooks.post_uninstall",
    "pre_update": "initialdb.code.hooks.pre_update",
    "post_update": "initialdb.code.hooks.post_update",
    "post_enable": "initialdb.code.hooks.post_enable",
    "post_disable": "initialdb.code.hooks.post_disable"
  },
  "config_schema": {
    "fields": [
      {
        "name": "connection_string",
        "type": "string",
        "label": "Database Connection String",
        "description": "Connection string for the vehicle database",
        "default_value": "postgresql+asyncpg://initialdb:password@localhost:5432/crown_nexus",
        "required": true,
        "order": 1,
        "group": "database"
      },
      {
        "name": "default_query_limit",
        "type": "integer",
        "label": "Default Query Limit",
        "description": "Default maximum number of records to return in queries",
        "default_value": 1000,
        "required": true,
        "order": 2,
        "group": "database",
        "validation_rules": [
          {
            "rule_type": "min",
            "parameters": {"value": 1},
            "error_message": "Query limit must be at least 1"
          },
          {
            "rule_type": "max",
            "parameters": {"value": 10000},
            "error_message": "Query limit cannot exceed 10,000"
          }
        ]
      },
      {
        "name": "max_query_limit",
        "type": "integer",
        "label": "Maximum Query Limit",
        "description": "Absolute maximum number of records returned in any query",
        "default_value": 10000,
        "required": true,
        "order": 3,
        "group": "database"
      },
      {
        "name": "ui_refresh_interval_ms",
        "type": "integer",
        "label": "UI Refresh Interval (ms)",
        "description": "How frequently to refresh the UI in milliseconds",
        "default_value": 500,
        "required": true,
        "order": 1,
        "group": "ui"
      },
      {
        "name": "enable_caching",
        "type": "boolean",
        "label": "Enable Caching",
        "description": "Whether to cache query results",
        "default_value": true,
        "required": false,
        "order": 1,
        "group": "performance"
      },
      {
        "name": "cache_timeout",
        "type": "integer",
        "label": "Cache Timeout (seconds)",
        "description": "How long to cache query results",
        "default_value": 300,
        "required": false,
        "order": 2,
        "group": "performance"
      },
      {
        "name": "exports_dir",
        "type": "string",
        "label": "Exports Directory",
        "description": "Directory to store exported data",
        "default_value": "exports",
        "required": true,
        "order": 1,
        "group": "exports"
      },
      {
        "name": "templates_dir",
        "type": "string",
        "label": "Templates Directory",
        "description": "Directory to store export templates",
        "default_value": "templates",
        "required": true,
        "order": 2,
        "group": "exports"
      },
      {
        "name": "log_level",
        "type": "select",
        "label": "Log Level",
        "description": "Logging level for the plugin",
        "default_value": "info",
        "options": [
          {"value": "debug", "label": "Debug"},
          {"value": "info", "label": "Info"},
          {"value": "warning", "label": "Warning"},
          {"value": "error", "label": "Error"}
        ],
        "required": true,
        "order": 1,
        "group": "logging"
      }
    ],
    "groups": [
      {
        "name": "database",
        "label": "Database Settings",
        "description": "Database connection and query settings",
        "order": 1,
        "collapsed": false
      },
      {
        "name": "ui",
        "label": "UI Settings",
        "description": "User interface settings",
        "order": 2,
        "collapsed": false
      },
      {
        "name": "performance",
        "label": "Performance Settings",
        "description": "Settings that affect performance",
        "order": 3,
        "collapsed": false
      },
      {
        "name": "exports",
        "label": "Export Settings",
        "description": "Settings for data exports",
        "order": 4,
        "collapsed": false
      },
      {
        "name": "logging",
        "label": "Logging Settings",
        "description": "Configure logging behavior",
        "order": 5,
        "collapsed": false
      }
    ]
  }
}
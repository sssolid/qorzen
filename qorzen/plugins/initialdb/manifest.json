{
  "name": "initialdb",
  "display_name": "InitialDB",
  "version": "1.0.0",
  "description": "Vehicle Component Database Plugin",
  "author": {
    "name": "Qorzen Team",
    "email": "developers@qorzen.com",
    "url": "https://qorzen.com",
    "organization": "Qorzen"
  },
  "license": "MIT",
  "homepage": "https://qorzen.com/plugins/initialdb",
  "capabilities": [
    "ui.extend",
    "event.subscribe",
    "event.publish",
    "config.read",
    "database.read"
  ],
  "dependencies": [
    {
      "name": "core",
      "version": ">=0.1.0"
    }
  ],
  "entry_point": "plugin.py",
  "min_core_version": "0.1.0",
  "tags": ["database", "vehicle", "components"],
  "extension_uses": [],
  "lifecycle_hooks": {
    "pre_install": "initialdb.code.hooks.pre_install",
    "post_install": "initialdb.code.hooks.post_install",
    "pre_uninstall": "initialdb.code.hooks.pre_uninstall",
    "post_uninstall": "initialdb.code.hooks.post_uninstall",
    "pre_update": "initialdb.code.hooks.pre_update",
    "post_update": "initialdb.code.hooks.post_update",
    "post_enable": "initialdb.code.hooks.post_enable",
    "post_disable": "initialdb.code.hooks.post_disable"
  },
  "config_schema": {
    "fields": [
      {
        "name": "connection_string",
        "type": "string",
        "label": "Database Connection String",
        "description": "Connection string for the vehicle components database",
        "required": true,
        "default_value": "sqlite:///data/initialdb/vehicles.db",
        "order": 1,
        "group": "database"
      },
      {
        "name": "enable_caching",
        "type": "boolean",
        "label": "Enable Caching",
        "description": "Whether to cache database queries to improve performance",
        "default_value": true,
        "order": 2,
        "group": "database"
      },
      {
        "name": "cache_timeout",
        "type": "integer",
        "label": "Cache Timeout (seconds)",
        "description": "Time in seconds before cached data expires",
        "default_value": 300,
        "order": 3,
        "group": "database",
        "conditional_display": {
          "field": "enable_caching",
          "value": true
        },
        "validation_rules": [
          {
            "rule_type": "min",
            "parameters": {"value": 60},
            "error_message": "Cache timeout must be at least 60 seconds"
          },
          {
            "rule_type": "max",
            "parameters": {"value": 3600},
            "error_message": "Cache timeout cannot exceed 3600 seconds (1 hour)"
          }
        ]
      },
      {
        "name": "log_level",
        "type": "select",
        "label": "Log Level",
        "description": "The level of detail for plugin logs",
        "default_value": "info",
        "options": [
          {"value": "debug", "label": "Debug"},
          {"value": "info", "label": "Info"},
          {"value": "warning", "label": "Warning"},
          {"value": "error", "label": "Error"}
        ],
        "order": 1,
        "group": "advanced"
      },
      {
        "name": "max_results",
        "type": "integer",
        "label": "Maximum Results",
        "description": "Maximum number of results to return in queries",
        "default_value": 100,
        "order": 2,
        "group": "advanced",
        "validation_rules": [
          {
            "rule_type": "min",
            "parameters": {"value": 10},
            "error_message": "Minimum results must be at least 10"
          },
          {
            "rule_type": "max",
            "parameters": {"value": 1000},
            "error_message": "Maximum results cannot exceed 1000"
          }
        ]
      }
    ],
    "groups": [
      {
        "name": "database",
        "label": "Database Settings",
        "description": "Database connection and caching settings",
        "order": 1,
        "collapsed": false
      },
      {
        "name": "advanced",
        "label": "Advanced Settings",
        "description": "Advanced configuration options",
        "order": 2,
        "collapsed": true
      }
    ]
  }
}